# .github/workflows/deploy.yml (Partial Update)
# ... (Steps before the build step are unchanged)

      # NOTE: The 'Change to frontend directory' step is redundant 
      # and can be safely removed, as 'working-directory' handles it.

      - name: Build frontend (in frontend/)
        run: pnpm run build
        working-directory: ./frontend
        env:
          # ðŸ’¡ INJECT THE RENDER API URL HERE
          # Use the variable name your frontend code expects (e.g., VITE_APP_API_BASE_URL)
          VITE_APP_API_BASE_URL: https://expense-tracker-backend-aizooh.onrender.com 

      # Use the 'deploy-pages' action to publish the built 'dist' folder
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v4
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./frontend/dist
          # This assumes your frontend is hosted at the root of the gh-pages branch
          # and base path is configured in vite.config.js for GH Pages.